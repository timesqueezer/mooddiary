{% raw %}
<div class="panel panel-default">
    <div class="panel-heading">
        <h4>Users</h4>
    </div>
    <table class="table table-striped table-hover">
        <tr>
            <th>ID</th>
            <th>Email</th>
            <th>Name</th>
            <th>Created at</th>
            <th>Updated at</th>
            <th class="text-danger">Delete</th>
        </tr>
        <tr ng-repeat="user in users">
            <td>{{ user.id }}</td>
            <td ng-click="loadUser(user)" style="cursor: pointer">{{ user.email }}</td>
            <td>{{ user.first_name }} {{ user.last_name }}</td>
            <td>{{ user.created_at | date : 'medium' }}</td>
            <td>{{ user.updated_at | date : 'medium' }}</td>
            <td><button class="btn btn-lg btn-link" ng-click="deleteUser(user)"><i class="fa fa-times text-danger"></i></button></td>
        </tr>
    </table>
</div>
<div class="panel panel-default" ng-show="selectedUser">
    <div class="panel-heading">
        <h4>{{selectedUser.email}}'s Entries</h4>
    </div>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Date</th>
                <th ng-repeat="field in selectedUser.fields">{{ field.name }}</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="entry in selectedUser.entries">
                <td>{{ entry.date | date : 'dd/MM' }}</td>
                <td ng-repeat="field in selectedUser.fields">{{ entry.answersSorted[field.id].content }}</td>
            </tr>
        </tbody>
    </table>
</div>
{% endraw %}
